
@model BilheticaAeronauticaWeb.Entities.Airplane

@{
    ViewData["Title"] = "Delete";
}
<br />
<h3>Are you sure you want to delete this airplane?</h3>
<div>
    <hr />
    <div class="row justify-content-center">
        <div class="col-md-6">
            <p><strong>@Html.DisplayNameFor(model => model.Name):</strong> @Html.DisplayFor(model => model.Name)</p>
            <p><strong>@Html.DisplayNameFor(model => model.Manufacturer):</strong> @Html.DisplayFor(model => model.Manufacturer)</p>
            <p><strong>@Html.DisplayNameFor(model => model.Rows):</strong> @Html.DisplayFor(model => model.Rows)</p>
            <p><strong>@Html.DisplayNameFor(model => model.SeatsPerRow):</strong> @Html.DisplayFor(model => model.SeatsPerRow)</p>
            <p><strong>@Html.DisplayNameFor(model => model.Status):</strong> @Html.DisplayFor(model => model.Status)</p>
            <p>
                <strong>@Html.DisplayNameFor(model => model.ImageId):</strong>
                @if (!string.IsNullOrEmpty(Model.ImageFullPath))
                {
                    <br />
                    <img src="@Url.Content(Model.ImageFullPath)" alt="Image" style="width:100px; height:auto; max-width:100%;" />
                }
                else
                {
                    <span> No image available</span>
                }
            </p>

            <form asp-action="Delete" id="deleteForm" class="d-inline">
                <input type="hidden" asp-for="Id" />
                <input type="submit" value="Delete" class="btn btn-danger d-none" id="actualDeleteButton" />
            </form>

            <div class="mt-3">
                <a asp-action="Index" class="btn btn-secondary me-2">Back</a>

                <button type="button" class="btn btn-danger" id="openDialogBtn">Delete</button>
            </div>

            <div id="dialog"></div>
</div>


@section Scripts {
    <script>
        var dialog = new ej.popups.Dialog({
            header: 'Confirm Delete',
            content: 'Are you sure you want to delete this airplane?',
            showCloseIcon: true,
            buttons: [
                {
                    click: function () {
                        // Submit the form
                        document.getElementById('deleteForm').submit();
                    },
                    buttonModel: { content: 'Yes', isPrimary: true }
                },
                {
                    click: function () {
                        dialog.hide();
                    },
                    buttonModel: { content: 'No' }
                }
            ],
            visible: false,
            width: '300px',
            isModal: true
        });

        dialog.appendTo('#dialog');

        document.getElementById('openDialogBtn').onclick = function (e) {
            e.preventDefault(); // prevent default form submit
            dialog.show();
        };
    </script>
}
